<div class="nopaddingright jumbotron clearfix">
	<div class="row">
		<h1 class="col-md-11"><span translate>Production</span></h1>
		<div class="col-md-1 text-right">
			<a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown"><span class="glyphicon glyphicon-cog"></span></a>
			<ul class="columns-settings-dropdown dropdown-menu form-horizontal" role="menu">
				<li class="row" ng-click="::$event.stopPropagation(); visibility.refreshColumns();"><label class="col-xs-10" translate>Seller col</label><input class="col-xs-2" type="checkbox" ng-model="columns.seller"/></li>
				<li class="row" ng-click="::$event.stopPropagation(); visibility.refreshColumns();"><label class="col-xs-10" translate>Week col</label><input class="col-xs-2" type="checkbox" ng-model="columns.week"/></li>
				<li class="row" ng-click="::$event.stopPropagation(); visibility.refreshColumns();"><label class="col-xs-10" translate>Priority col</label><input class="col-xs-2" type="checkbox" ng-model="columns.priority"/></li>
				<li class="row" ng-click="::$event.stopPropagation(); visibility.refreshColumns();"><label class="col-xs-10" translate>Dispatch</label><input class="col-xs-2" type="checkbox" ng-model="columns.dispatch"/></li>
				<li class="row" ng-click="::$event.stopPropagation(); visibility.refreshColumns();"><label class="col-xs-10" translate>Order</label><input class="col-xs-2" type="checkbox" ng-model="columns.order"/></li>
				<li class="row" ng-click="::$event.stopPropagation(); visibility.refreshColumns();"><label class="col-xs-10" translate>Client</label><input class="col-xs-2" type="checkbox" ng-model="columns.client"/></li>
				<li class="row" ng-click="::$event.stopPropagation(); visibility.refreshColumns();"><label class="col-xs-10" translate>Boat</label><input class="col-xs-2" type="checkbox" ng-model="columns.boat"/></li>
				<li class="row" ng-click="::$event.stopPropagation(); visibility.refreshColumns();"><label class="col-xs-10" translate>Sail</label><input class="col-xs-2" type="checkbox" ng-model="columns.sail"/></li>
				<li class="row" ng-click="::$event.stopPropagation(); visibility.refreshColumns();"><label class="col-xs-10" translate>Line</label><input class="col-xs-2" type="checkbox" ng-model="columns.line"/></li>
				<li class="row" ng-click="::$event.stopPropagation(); visibility.refreshColumns();"><label class="col-xs-10" translate>%</label><input class="col-xs-2" type="checkbox" ng-model="columns.percentage"/></li>
				<li class="row" ng-click="::$event.stopPropagation(); visibility.refreshColumns();"><label class="col-xs-10" translate>Advance</label><input class="col-xs-2" type="checkbox" ng-model="columns.advance"/></li>
				<li class="row" ng-click="::$event.stopPropagation(); visibility.refreshColumns();"><label class="col-xs-10" translate>Delivery date min</label><input class="col-xs-2" type="checkbox" ng-model="columns.deliveryDate"/></li>
				<li class="row" ng-click="::$event.stopPropagation(); visibility.refreshColumns();"><label class="col-xs-10" translate>Tentative date min</label><input class="col-xs-2" type="checkbox" ng-model="columns.tentativeDate"/></li>
				<li class="row" ng-click="::$event.stopPropagation(); visibility.refreshColumns();"><label class="col-xs-10" translate>Production date min</label><input class="col-xs-2" type="checkbox" ng-model="columns.productionDate"/></li>
				<li class="row" ng-click="::$event.stopPropagation(); visibility.refreshColumns();"><label class="col-xs-10" translate>Info date min</label><input class="col-xs-2" type="checkbox" ng-model="columns.infoDate"/></li>
				<li class="row" ng-click="::$event.stopPropagation(); visibility.refreshColumns();"><label class="col-xs-10" translate>Advance date min</label><input class="col-xs-2" type="checkbox" ng-model="columns.advanceDate"/></li>
				<li class="row" ng-click="::$event.stopPropagation(); visibility.refreshColumns();"><label class="col-xs-10" translate>Cloths</label><input class="col-xs-2" type="checkbox" ng-model="columns.cloths"/></li>
				<li class="row" ng-click="::$event.stopPropagation(); visibility.refreshColumns();"><label class="col-xs-10" translate>State col</label><input class="col-xs-2" type="checkbox" ng-model="columns.state"/></li>
				<li class="row" ng-click="::$event.stopPropagation(); visibility.refreshColumns();"><label class="col-xs-10" translate>Area</label><input class="col-xs-2" type="checkbox" ng-model="columns.area"/></li>
				<li class="row" ng-click="::$event.stopPropagation(); visibility.refreshColumns();"><label class="col-xs-10" translate>Observations</label><input class="col-xs-2" type="checkbox" ng-model="columns.productionObservations"/></li>
			</ul>
		</div>
	</div>


	<div class="row">
		<div class="col-md-6 nopadding">
				<label class="control-label col-xs-3" translate>Filter by</label>
				<div class="col-xs-4">
					<select name="dd_ty" ng-model="filter.selectedOption" ng-options="sc as sc.name for sc in filter.optionsb" class="form-control small" ng-change="clearFilterOption();">
			        </select>
				</div>
		</div>
	</div>
	<div class="row">
		<div class="col-md-6 nopadding">
				<label class="control-label col-xs-3" translate>Order by</label>
				<div class="col-xs-4">
					<select name="dd_ty" ng-model="filter.selectedOption" ng-options="sc as sc.name for sc in filter.optionsb" class="form-control small" ng-change="clearFilterOption();">
			        </select>
				</div>
		</div>
	</div>

	<div class="row">
		<div class="col-md-6 nopadding">
				<label class="control-label col-xs-2"></label>
				<div class="col-xs-4">
				</div>

				<label class="control-label col-xs-1" for="edit_cloth" translate>&nbsp;</label>
				<div class="col-xs-4">
					<a ng-click="search()" class="btn btn-default floatright">
						<span class="glyphicon glyphicon-search"></span>
						{{'Search' | translate}}
					</a>
				</div>
		</div>
	</div>
</div>

<!-- Consumos -->
<!-- <table id="production" class="table table-bordered table-striped table-hover" fixed-header table-height="500px"> -->
<table id="production" class="table table-bordered table-striped table-hover">
	<thead>
		<tr>
			<th ng-show=":refreshColumns:visibility.showColumn('seller')" translate>Seller col</th>
			<th ng-show=":refreshColumns:visibility.showColumn('week')" translate>Week col</th>
			<th ng-show=":refreshColumns:visibility.showColumn('priority')" translate>Priority col</th>
			<th ng-show=":refreshColumns:visibility.showColumn('dispatch')" translate>Dispatch</th>
			<th ng-show=":refreshColumns:visibility.showColumn('order')" translate>Order</th>
			<th ng-show=":refreshColumns:visibility.showColumn('client')" translate>Client</th>
			<th ng-show=":refreshColumns:visibility.showColumn('boat')" translate>Boat</th>
			<th ng-show=":refreshColumns:visibility.showColumn('sail')" translate>Sail</th>
			<th ng-show=":refreshColumns:visibility.showColumn('line')" translate>Line</th>
			<th ng-show=":refreshColumns:visibility.showColumn('percentage')">%</th>
			<th ng-show=":refreshColumns:visibility.showColumn('advance')" translate>Advance</th>
			<th ng-show=":refreshColumns:visibility.showColumn('deliveryDate')" translate style="min-width:95px;">Delivery date min</th>
			<th ng-show=":refreshColumns:visibility.showColumn('tentativeDate')" translate style="min-width:95px;">Tentative date min</th>
			<th ng-show=":refreshColumns:visibility.showColumn('productionDate')" translate style="min-width:95px;">Production date min</th>
			<th ng-show=":refreshColumns:visibility.showColumn('infoDate')" translate style="min-width:95px;">Info date min</th>
			<th ng-show=":refreshColumns:visibility.showColumn('advanceDate')" translate style="min-width:95px;">Advance date min</th>
			<th ng-show=":refreshColumns:visibility.showColumn('cloths')" translate>Cloths</th>
			<th ng-show=":refreshColumns:visibility.showColumn('state')" translate>State col</th>
			<th ng-show=":refreshColumns:visibility.showColumn('area')" translate>Area</th>
			<th ng-show=":refreshColumns:visibility.showColumn('productionObservations')" translate>Observations</th>
			<th access-allowed="admin,ordenes,plotter" translate>Archive</th>
		</tr>
	</thead>
	<tbody>
		<tr ng-repeat="p in previsions | filter:searchBox" my-repeat-directive="start">
			<td ng-show=":refreshColumns:visibility.showColumn('seller')">
				<!-- {{:refreshColumsValue:getValue(p, 'seller')}} -->
				<span ng-bind=":refreshColumnsValue:getValue(p, 'seller')"></span>
				<!-- <div class="popover-wrapper">
			    <a href="#" editable-text="p.seller">{{p.seller || '' }}</a>
			  </div> -->
			</td>
			<td ng-show=":refreshColumns:visibility.showColumn('week')" ng-mouseover="::oneTimeBindings.showPopupList('weeks');" ng-mouseleave="::oneTimeBindings.hidePopupList('weeks');">
				<!-- {{:refreshColumnsValue:getValue(p, 'week')}} -->
				<editable-production-input entity="::p" field="'week'" callback="::changedNumericField" width="20" style="display:inline-block;"></editable-production-input>
			</td>
			<td ng-show=":refreshColumns:visibility.showColumn('priority')">
				{{:refreshColumnsValue:getValue(p, 'priority')}}
			</td>
			<td ng-show=":refreshColumns:visibility.showColumn('dispatch')">
				{{:refreshColumnsValue:getValue(p, 'dispatch')}}
			</td>
			<td ng-show=":refreshColumns:visibility.showColumn('order')">
				<a href="javascript:void(0);" ng-click="showPrevisionModal(p)">{{:refreshColumnsValue:p.orderNumber}}</a>
			</td>
			<td ng-show=":refreshColumns:visibility.showColumn('client')">
				{{:refreshColumnsValue:getValue(p, 'client')}}
			</td>
			<td ng-show=":refreshColumns:visibility.showColumn('boat')">
				{{:refreshColumnsValue:getValue(p, 'boat')}}
			</td>
			<td ng-show=":refreshColumns:visibility.showColumn('sail')">
				{{:refreshColumnsValue:getValue(p, 'sailName')}}
			</td>
			<td ng-show=":refreshColumns:visibility.showColumn('line')">
				{{:refreshColumnsValue:getValue(p, 'line')}}
			</td>
			<td ng-show=":refreshColumns:visibility.showColumn('percentage')" style="min-width:30px;" ng-mouseover="::oneTimeBindings.showPopupList('percentages');" ng-mouseleave="::oneTimeBindings.hidePopupList('percentages');">
				<editable-production-input entity="::p" field="'percentage'" callback="::changedNumericField" width="20" style="display:inline-block;"></editable-production-input>
			</td>
			<td ng-show=":refreshColumns:visibility.showColumn('advance')">
				{{:refreshColumnsValue:getValue(p, 'advance')}}
			</td>
			<td ng-show=":refreshColumns:visibility.showColumn('deliveryDate')" class="column-date" nowrap>
				<editable-date entity="::p" field="deliveryDate" callback="::updateDate" editable-by-role="admin" style="display:inline-block;" required="true"></editable-date>
			</td>
			<td ng-show=":refreshColumns:visibility.showColumn('tentativeDate')" nowrap>
				<editable-date entity="::p" field="tentativeDate" callback="::updateDate" editable-by-role="admin" style="display:inline-block;"></editable-date>
			</td>
			<td ng-show=":refreshColumns:visibility.showColumn('productionDate')" nowrap>
				<editable-date entity="::p" field="productionDate" callback="::updateDate" editable-by-role="admin" style="display:inline-block;"></editable-date>
			</td>
			<td ng-show=":refreshColumns:visibility.showColumn('infoDate')" nowrap>
				<editable-date entity="::p" field="infoDate" callback="::updateDate" editable-by-role="admin" style="display:inline-block;"></editable-date>
			</td>
			<td ng-show=":refreshColumns:visibility.showColumn('advanceDate')" nowrap>
				<editable-date entity="::p" field="advanceDate" callback="::updateDate" editable-by-role="admin" style="display:inline-block;"></editable-date>
			</td>
			<td ng-show=":refreshColumns:visibility.showColumn('cloths')">
				<prevision-cloths prevision="p" style="display:inline-block;"></prevision-cloths>
			</td>
			<td ng-show=":refreshColumns:visibility.showColumn('state')">
				<!-- {{:refreshColumnsValue:getValue(p, 'state')}} -->
				<span style="color:black; float:right; padding:2px;" ng-style="{'background-color': (p.stateAccepted=='0' ? 'orange' : '')}">
					{{:refreshColumnsValue:getValue(p, 'state')}}
					<a href="javascript:void(0)" ng-show=":refreshStateValue:p.stateAccepted=='0'" ng-click="::oneTimeBindings.acceptStateChange(p); $event.stopPropagation();" style="cursor:pointer;" class="tag-control">
						<span class="glyphicon glyphicon-ok control-label" style="text-align:center; margin-left:4px;"></span>
					</a>
				</span>
			</td>
			<td ng-show=":refreshColumns:visibility.showColumn('area')">
				{{:refreshColumnsValue:getValue(p, 'area')}}
			</td>
			<td ng-show=":refreshColumns:visibility.showColumn('productionObservations')">
				{{:refreshColumnsValue:getValue(p, 'productionObservations')}}
			</td>
			<td style="width:80px; text-align:center;" access-allowed="admin,ordenes,plotter">
				<a ng-click="showArchiveConfirmModal(p, null, removeFromProduction)" class="btn btn-default">
					<span class="glyphicon glyphicon-ok"></span>
				</a>
			</td>
		</tr>
		<tr>
			<td colspan="20" ng-show="!hideLoading">
				Cargando...
			</td>
		</tr>
	</tbody>
</table>

<div id="percentages">
  <table width="100%" valign="top" cellspacing="0" cellpadding="2" border="1" style="border-width:1px; border-style:solid; border-collapse:collapse;">
  	<tbody><tr class="title">
  		<td align="center" colspan="2">% de Producción</td>
  	</tr>
    <tr class="FilaPopUp">
  		<td align="center">0%</td>
  		<td>Orden</td>
    </tr>
    <tr class="FilaPopUp">
  		<td align="center">3%</td>
  		<td>Anticipo Sin Informacion</td>
    </tr>
    <tr class="FilaPopUp">
  		<td align="center">4%</td>
  		<td>Informacion Sin Anticipo</td>
    </tr>
    <tr class="FilaPopUp">
  		<td align="center">5%</td>
  		<td>Informacion Con Anticipo, lista para diseñar</td>
    </tr>
    <tr class="FilaPopUp">
  		<td align="center">6%</td>
  		<td>Diseñada</td>
    </tr>
    <tr class="FilaPopUp">
  		<td align="center">25%</td>
  		<td>Cortada</td>
    </tr>
    <tr class="FilaPopUp">
  		<td align="center">30%</td>
  		<td>Pegada</td>
    </tr>
    <tr class="FilaPopUp">
  		<td align="center">50%</td>
  		<td>Cosida</td>
    </tr>
    <tr class="FilaPopUp">
  		<td align="center">60%</td>
  		<td>Recortada</td>
    </tr>
    <tr class="FilaPopUp">
  		<td align="center">75%</td>
  		<td>En Maquina</td>
    </tr>
    <tr class="FilaPopUp">
  		<td align="center">98%</td>
  		<td>En Terminacion Manual</td>
    </tr>
    <tr class="FilaPopUp">
  		<td align="center">100%</td>
  		<td>Terminada</td>
    </tr>
    <tr class="FilaPopUp">
  		<td align="center">101%</td>
  		<td>Saldada, Lista para despachar</td>
    </tr>
    <tr class="FilaPopUp">
  		<td align="center">102%</td>
  		<td>Despachada</td>
    </tr>
  </tbody></table>
</div>

<div id="weeks">
  <table width="100%" valign="top" cellspacing="0" cellpadding="2" border="1" style="border-width:1px; border-style:solid; border-collapse:collapse;">
  	<tbody><tr class="title">
  		<td align="center" colspan="2">Semana</td>
  	</tr>
    <tr class="FilaPopUp">
  		<td align="center" width="28">1</td>
  		<td>10 al 16 de Julio</td>
    </tr>
    <tr class="FilaPopUp">
  		<td align="center" style="background-color:#ffff99;">2</td>
  		<td>17 al 23 de Julio</td>
    </tr>
    <tr class="FilaPopUp">
  		<td align="center" style="background-color:#a3d3ac;">3</td>
  		<td>24 al 30 de Julio</td>
    </tr>
    <tr class="FilaPopUp">
  		<td align="center" style="background-color:#ffdab9;">4</td>
  		<td>31 al 6 de Agosto</td>
    </tr>
    <tr class="FilaPopUp">
  		<td align="center">5</td>
  		<td>7 al 13 de Agosto</td>
    </tr>
    <tr class="FilaPopUp">
  		<td align="center">6</td>
  		<td>14 al 20 de Agosto</td>
    </tr>
    <tr class="FilaPopUp">
  		<td align="center">7</td>
  		<td>21 al 27 de Agosto</td>
    </tr>
    <tr class="FilaPopUp">
  		<td align="center">8</td>
  		<td>Sri Lanka</td>
    </tr>
    <tr class="FilaPopUp">
  		<td align="center">9</td>
  		<td>Velas sin prog.</td>
    </tr>
    <tr class="FilaPopUp">
  		<td align="center">10</td>
  		<td>Ords.en susp.</td>
    </tr>
    <tr class="FilaPopUp">
  		<td align="center">11</td>
  		<td>Velas p/entregar</td>
    </tr>
  </tbody></table>
</div>

<prevision-modal/>

<confirm-modal/>

<confirm-archive-modal/>
